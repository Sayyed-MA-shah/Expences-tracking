{% extends "base.html" %}
{% block content %}

<div class="max-w-2xl mx-auto bg-white rounded-2xl shadow p-6 space-y-6">
  <!-- Header -->
  <div class="flex items-center justify-between">
    <h2 class="text-2xl font-bold">üë§ Add Fixed Salary Employee</h2>
    <a href="javascript:history.back()" 
       class="text-sm px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700">
       ‚Üê Back
    </a>
  </div>

  <!-- Info Bar -->
  <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg">
    This employee will be paid a fixed monthly salary. You can record payments from their report page.
  </div>

  <!-- Form -->
  <form method="post" class="space-y-5">
    {% csrf_token %}

    <!-- Name & Phone -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Full Name</label>
        <input type="text" name="name" 
               value="{{ form.name.value|default_if_none:'' }}"
               placeholder="Enter employee name"
               class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        {% if form.name.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.name.errors.0 }}</p>
        {% endif %}
      </div>
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Phone</label>
        <input type="text" name="phone" 
               value="{{ form.phone.value|default_if_none:'' }}"
               placeholder="+44 7700 900123"
               class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        {% if form.phone.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.phone.errors.0 }}</p>
        {% endif %}
      </div>
    </div>

    <!-- Role -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Job Role</label>
      <input type="text" name="role" 
             value="{{ form.role.value|default_if_none:'' }}"
             placeholder="E.g. Accountant, Supervisor, Manager"
             class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
      {% if form.role.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.role.errors.0 }}</p>
      {% endif %}
    </div>

    <!-- Salary -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Monthly Salary (¬£)</label>
      <div class="relative">
        <span class="absolute inset-y-0 left-3 flex items-center text-gray-400">¬£</span>
        <input type="number" step="0.01" name="monthly_salary"
               value="{{ form.monthly_salary.value|default_if_none:'' }}"
               placeholder="Enter monthly salary"
               class="w-full border rounded-lg pl-8 pr-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
      </div>
      {% if form.monthly_salary.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.monthly_salary.errors.0 }}</p>
      {% endif %}
    </div>

    <!-- Submit -->
    <div class="pt-2">
      <button type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg shadow hover:bg-blue-700 active:translate-y-px transition">
        üíæ Save Employee
      </button>
    </div>
  </form>

  {% if form.non_field_errors %}
  <div class="bg-red-50 text-red-700 p-3 rounded-lg">
    {{ form.non_field_errors }}
  </div>
  {% endif %}
</div>

{% endblock %}
