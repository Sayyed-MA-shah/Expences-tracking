{% extends "base.html" %}
{% block content %}
<form method="post" class="max-w-2xl mx-auto bg-white rounded-2xl shadow p-6 space-y-6">
  {% csrf_token %}

  <div class="flex items-center justify-between">
  <h2 class="text-xl font-semibold mb-4">
    {% if employee %} ‚úèÔ∏è Edit Employee {% else %} üë§ Add New Employee {% endif %}</h2>
     <a href="javascript:history.back()" 
       class="text-sm px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700">
       ‚Üê Back
    </a>
  </div>

   <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg">
    This employee will be paid a per item price. You can record payments from their report page.
  </div>
  <!-- Name -->
  <div>
    <label class="block font-medium mb-1">Full Name</label>
    <input type="text" name="name" value="{{ form.name.value|default_if_none:'' }}"
           placeholder="Enter employee name"
           class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500" required>
  </div>

  <!-- Phone -->
  <div>
    <label class="block font-medium mb-1">Phone</label>
    <input type="text" name="phone" value="{{ form.phone.value|default_if_none:'' }}"
           placeholder="e.g. +44 7700 900123"
           class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
  </div>

  <!-- Role -->
  <div>
    <label class="block font-medium mb-1">Job Role</label>
    <input type="text" name="role" value="{{ form.role.value|default_if_none:'' }}"
           placeholder="Welder, Carpenter, Assistant..."
           class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500">
  </div>

 

  <!-- Save button -->
  <button type="submit"
          class="w-full py-3 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">
    üíæ {% if employee %} Update Employee {% else %} Save Employee {% endif %}
  </button>
</form>

<!-- JS to toggle salary field -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const categorySelect = document.getElementById("category");
    const salaryField = document.getElementById("salary-field");

    categorySelect.addEventListener("change", function () {
      if (this.value === "fixed") {
        salaryField.style.display = "block";
      } else {
        salaryField.style.display = "none";
      }
    });
  });
</script>
{% endblock %}
