{% extends 'base.html' %}
{% block title %}Dashboard - WINSIDE{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Main Dashboard</h1>

<!-- ===== Monthly Stats ===== -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-white shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Pay-in (This Month)</h4>
        <p class="text-2xl font-bold text-green-600 mt-2">{{ payins_month|floatformat:0 }}</p>
    </div>
    <div class="bg-white shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Pay-out (This Month)</h4>
        <p class="text-2xl font-bold text-red-600 mt-2">{{ payouts_month|floatformat:0 }}</p>
    </div>
    <div class="bg-white shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Balance (This Month)</h4>
        <p class="text-2xl font-bold text-blue-600 mt-2">{{ balance_month|floatformat:0 }}</p>
    </div>
    <br>
    <div class="bg-white shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Total Advance Paid</h4>
        <p class="text-2xl font-bold text-red-600 mt-2">{{ total_advances  }}</p>
    </div>
    <div class="bg-white shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Total Salary Paid</h4>
        <p class="text-2xl font-bold text-blue-600 mt-2">{{ total_salary_paid }}</p>
    </div>
   
    </div>
 <!-- <div class="bg-white rounded-xl shadow p-4">
  <h3 class="text-lg font-semibold">Employee Salary Overview</h3>
  <p><strong>ðŸ’° Salary Paid:</strong> Â£{{ total_advance_paid }}</p>
  <p><strong>âš¡ Advance Salaries:</strong> Â£{{ total_advance_paid }}</p>
  <p><strong>ðŸ“Œ Salary Pending:</strong> Â£{{ salary_pending }}</p>
</div> -->
    <div class="grid grid-cols-2 gap-6">
  <!-- <div class="bg-white shadow rounded-xl p-6">
    <h3 class="text-lg font-semibold">ðŸ’µ Advance Salaries</h3>
    <p class="text-2xl text-yellow-600">Â£{{ total_advance }}</p>
  </div>

  <div class="bg-white shadow rounded-xl p-6">
    <h3 class="text-lg font-semibold">âœ… Salaries Paid</h3>
    <p class="text-2xl text-green-600">Â£{{ total_salary_paid }}</p>
  </div> -->
 



</div>



<!-- ===== Navigation Cards ===== -->
<!-- <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
  <a href="{% url 'payments:list' %}" class="block bg-white p-4 rounded-xl shadow hover:shadow-md">
    <h2 class="font-semibold">Payment Detail</h2>
    <p class="text-sm text-gray-600">Enter pay-ins, view totals and balance.</p>
  </a> -->

  <!-- Daily Expenses (all categories) -->
  <!-- <a href="{% url 'expenses:list' %}" class="block bg-white p-4 rounded-xl shadow hover:shadow-md">
    <h2 class="font-semibold">Daily Expenses</h2>
    <p class="text-sm text-gray-600">Material, Rent/Bill/Guest, Setup Purchases.</p>
  </a> -->

  <!-- Employees -->
  <!-- <a  href="{% url 'employees:list' %}" class="block bg-white p-4 rounded-xl shadow hover:shadow-md">
     <h2 class="font-semibold">Employees</h2>
    <p class="text-sm text-gray-600">Contractual, Temp, Fixed salary.</p>
  </a>
</div> -->

<hr class="my-8 border-gray-200">

<!-- ===== Custom Date Range Section ===== -->
<h3 class="text-lg font-semibold mb-4">Custom Date Range</h3>
<form method="get" class="flex flex-wrap items-center gap-4 mb-6">
    <div>
        <label for="start_date" class="block text-sm font-medium text-gray-700">From</label>
        <input type="date" name="start_date" id="start_date" value="{{ start_date|date:'Y-m-d' }}"
               class="border rounded-lg p-2 mt-1 block w-48 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200">
    </div>

    <div>
        <label for="end_date" class="block text-sm font-medium text-gray-700">To</label>
        <input type="date" name="end_date" id="end_date" value="{{ end_date|date:'Y-m-d' }}"
               class="border rounded-lg p-2 mt-2 block w-48 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200">
    </div>

    <div class="mt-5">
        <button type="submit"
                class="px-5 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700">
            Apply Filter
        </button>
    </div>
</form>

{% if payins_range is not None %}
<div class="grid grid-cols-1 md:grid-cols-4 gap-6">
    <div class="bg-gray-50 shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Pay-in (Selected Range)</h4>
        <p class="text-2xl font-bold text-green-600 mt-2">{{ payins_range }}</p>
    </div>
    <div class="bg-gray-50 shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Pay-out (Selected Range)</h4>
        <p class="text-2xl font-bold text-red-600 mt-2">{{ payouts_range }}</p>
    </div>
    <div class="bg-gray-50 shadow rounded-xl p-6 text-center">
        <h4 class="text-gray-500 text-sm font-medium">Balance (Selected Range)</h4>
        <p class="text-2xl font-bold text-blue-600 mt-2">{{ balance_range }}</p>
    </div>
    <div class="bg-gray-50 shadow rounded-xl p-6 text-center">
    <h4 class="text-gray-500 text-sm font-medium">Total Salary Paid (Selected Range)</h4>
    <p class="text-2xl font-bold text-purple-600 mt-2">
        {{ salary_paid_range }}
    </p>
</div>
</div>

    <a href="https://github.com/Sayyed-MA-shah" class="block bg-white p-4 rounded-xl shadow hover:shadow-md">
    developed by Sayyed M A Shah
  </a>

{% endif %}
{% endblock %}
